import {Link, Outlet} from 'react-router-dom'
import {useEffect} from "react";


const Root = function ({activePage, setActivePage}) {

   /* useEffect(() => {
        const handleLocationChange = () => {
            setActivePage(window.location.pathname);
        };

        window.addEventListener('popstate', handleLocationChange);

        return () => {
            window.removeEventListener('popstate', handleLocationChange);
        };
    }, []);*/

    return (<>
        <Outlet/>
        <nav className={'nav'}>
            <Link to={`/`}>
                <div className="nav__icon market active">
                    <svg width="156" height="154" viewBox="0 0 156 154" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M78.0271 125.694C75.0525 125.694 72.5858 123.227 72.5858 120.252V98.4872C72.5858 95.5127 75.0525 93.046 78.0271 93.046C81.0017 93.046 83.4684 95.5127 83.4684 98.4872V120.252C83.4684 123.227 81.0017 125.694 78.0271 125.694Z"
                            fill="#6B4EFF"/>
                        <path
                            d="M118.655 153.335H37.3986C24.1944 153.335 12.1511 143.178 9.97454 130.192L0.32534 72.3691C-1.27077 63.3729 3.15481 51.8374 10.3373 46.1059L60.6147 5.84043C70.3365 -1.99501 85.6446 -1.92246 95.4389 5.91298L145.716 46.1059C152.826 51.8374 157.179 63.3729 155.728 72.3691L146.079 130.119C143.903 142.961 131.569 153.335 118.655 153.335ZM77.9542 10.919C74.1091 10.919 70.2639 12.0798 67.4344 14.3288L17.157 54.6668C13.0942 57.9316 10.1922 65.4768 11.0628 70.6279L20.712 128.378C22.0179 135.996 29.6357 142.453 37.3986 142.453H118.655C126.418 142.453 134.036 135.996 135.342 128.305L144.991 70.5554C145.789 65.4768 142.887 57.7865 138.897 54.5943L88.6191 14.4014C85.7171 12.0798 81.7994 10.919 77.9542 10.919Z"
                            fill="#6B4EFF"/>
                    </svg>
                    <span>Market</span>
                </div>
            </Link>
            <Link to={'/messages'}>
                <div className="nav__icon messages">
                    <svg width="155" height="156" viewBox="0 0 155 156" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M77.5 155.433C72.5256 155.433 67.8395 152.909 64.5233 148.512L53.7093 134.093C53.493 133.805 52.6279 133.444 52.2674 133.372H48.6628C18.6 133.372 0 125.226 0 84.7093V48.6628C0 16.7977 16.7977 0 48.6628 0H106.337C138.202 0 155 16.7977 155 48.6628V84.7093C155 116.574 138.202 133.372 106.337 133.372H102.733C102.156 133.372 101.651 133.66 101.291 134.093L90.4767 148.512C87.1605 152.909 82.4744 155.433 77.5 155.433ZM48.6628 10.814C22.8535 10.814 10.814 22.8535 10.814 48.6628V84.7093C10.814 117.295 21.9884 122.558 48.6628 122.558H52.2674C55.9442 122.558 60.1256 124.649 62.3605 127.605L73.1744 142.023C75.6977 145.34 79.3023 145.34 81.8256 142.023L92.6395 127.605C95.0186 124.433 98.7674 122.558 102.733 122.558H106.337C132.147 122.558 144.186 110.519 144.186 84.7093V48.6628C144.186 22.8535 132.147 10.814 106.337 10.814H48.6628Z"
                            fill="#979C9E"/>
                        <path
                            d="M113.547 54.0698H41.4535C38.4977 54.0698 36.0465 51.6186 36.0465 48.6628C36.0465 45.707 38.4977 43.2558 41.4535 43.2558H113.547C116.502 43.2558 118.953 45.707 118.953 48.6628C118.953 51.6186 116.502 54.0698 113.547 54.0698Z"
                            fill="#979C9E"/>
                        <path
                            d="M84.7093 90.1163H41.4535C38.4977 90.1163 36.0465 87.6651 36.0465 84.7093C36.0465 81.7535 38.4977 79.3023 41.4535 79.3023H84.7093C87.6651 79.3023 90.1163 81.7535 90.1163 84.7093C90.1163 87.6651 87.6651 90.1163 84.7093 90.1163Z"
                            fill="#979C9E"/>
                    </svg>
                    <span>Message</span>
                </div>
            </Link>
            <div className="nav__icon sell">
                <svg width="155" height="155" viewBox="0 0 155 155" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M146.389 86.1111H8.61111C3.9037 86.1111 0 82.2074 0 77.5C0 72.7926 3.9037 68.8889 8.61111 68.8889H146.389C151.096 68.8889 155 72.7926 155 77.5C155 82.2074 151.096 86.1111 146.389 86.1111Z"
                        fill="#979C9E"/>
                    <path
                        d="M77.5 155C72.7926 155 68.8889 151.096 68.8889 146.389V8.61111C68.8889 3.9037 72.7926 0 77.5 0C82.2074 0 86.1111 3.9037 86.1111 8.61111V146.389C86.1111 151.096 82.2074 155 77.5 155Z"
                        fill="#979C9E"/>
                </svg>
                <span>Sell</span>
            </div>
            <Link to={'/wishlist'}>
                <div className="nav__icon wishlist">
                    <svg width="155" height="140" viewBox="0 0 155 140" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M77.5 139.426C75.2651 139.426 73.1023 139.137 71.3 138.487C43.7605 129.023 0 95.4309 0 45.801C0 20.5165 20.4023 0 45.4907 0C57.6744 0 69.0651 4.76793 77.5 13.2924C85.9349 4.76793 97.3256 0 109.509 0C134.598 0 155 20.5888 155 45.801C155 95.5031 111.24 129.023 83.7 138.487C81.8977 139.137 79.7349 139.426 77.5 139.426ZM45.4907 10.8362C26.386 10.8362 10.814 26.5126 10.814 45.801C10.814 95.1419 58.1791 122.594 74.8326 128.301C76.1302 128.734 78.9419 128.734 80.2395 128.301C96.8209 122.594 144.258 95.2141 144.258 45.801C144.258 26.5126 128.686 10.8362 109.581 10.8362C98.6233 10.8362 88.4581 15.9653 81.8977 24.851C79.8791 27.5962 75.2651 27.5962 73.2465 24.851C66.5419 15.8931 56.4488 10.8362 45.4907 10.8362Z"
                            fill="#979C9E"/>
                    </svg>

                    <span>Wishlists</span>
                </div>
            </Link>
            <Link to={'/profile'}>
                <div className="nav__icon profile">
                    <svg width="154" height="219" viewBox="0 0 154 219" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M75.4969 106.278C75.1897 106.278 74.985 106.278 74.6778 106.278C74.166 106.176 73.4493 106.176 72.835 106.278C43.1455 105.357 20.7247 82.0144 20.7247 53.2462C20.7247 23.9662 44.5788 0.112122 73.8588 0.112122C103.139 0.112122 126.993 23.9662 126.993 53.2462C126.891 82.0144 104.367 105.357 75.804 106.278C75.7016 106.278 75.5992 106.278 75.4969 106.278ZM73.8588 15.4688C53.0761 15.4688 36.0814 32.4635 36.0814 53.2462C36.0814 73.7218 52.0523 90.2046 72.4255 90.9212C72.9374 90.8189 74.3707 90.8189 75.7016 90.9212C95.7677 89.9998 111.534 73.517 111.636 53.2462C111.636 32.4635 94.6415 15.4688 73.8588 15.4688Z"
                            fill="#979C9E"/>
                        <path
                            d="M75.5996 218.177C55.5336 218.177 35.3651 213.058 20.1108 202.82C5.88032 193.401 -1.90039 180.502 -1.90039 166.476C-1.90039 152.45 5.88032 139.448 20.1108 129.927C50.8242 109.554 100.58 109.554 131.088 129.927C145.217 139.346 153.1 152.246 153.1 166.271C153.1 180.297 145.319 193.299 131.088 202.82C115.732 213.058 95.6657 218.177 75.5996 218.177ZM28.6082 142.827C18.7799 149.379 13.4563 157.774 13.4563 166.578C13.4563 175.281 18.8823 183.676 28.6082 190.125C54.1003 207.222 97.099 207.222 122.591 190.125C132.419 183.573 137.743 175.178 137.743 166.374C137.743 157.672 132.317 149.277 122.591 142.827C97.099 125.832 54.1003 125.832 28.6082 142.827Z"
                            fill="#979C9E"/>
                    </svg>
                    <span>Profile</span>
                </div>
            </Link>
        </nav>
    </>)
}

export default Root;